<?xml version="1.0"?>

<adapters_conf id="KAFKA">
    <metadata_adapter_initialised_first>N</metadata_adapter_initialised_first>
    <metadata_provider>
        <adapter_class>com.lightstreamer.adapters.metadata.LiteralBasedProvider</adapter_class>
        <!--<classloader>log-enabled</classloader>-->
    </metadata_provider>

    <!-- <data_provider name="Demo">
        <adapter_class>com.lightstreamer.kafka_connector.adapter.KafkaConnectorAdapter</adapter_class>
        <param name="bootstrap-servers">broker:29092</param>
        <param name="group-id">kafka-adapter-user</param>

        <param name="key.consumer">RAW</param>
        <param name="value.consumer">JSON</param>
        <param name="value.schema.file">flights.json</param>

        <param name="map.demo.to">flights-#{code=KEY}</param>
        <param name="map.demo.to">flights</param>
        <param name="field.departure">#{VALUE.departureTime}</param>
        <param name="field.status">#{VALUE.status}</param>

        <param name="map.new_orders.to">orders-${topic=TOPIC}</param>
        <param name="map.past_orders.to">orders-${topic=TOPIC}</param>
    </data_provider> -->

    <data_provider name="Avro">
        <adapter_class>com.lightstreamer.kafka_connector.adapter.KafkaConnectorAdapter</adapter_class>
        <param name="bootstrap-servers">broker:29092</param>
        <param name="group-id">kafka-adapter-user</param>


        <!-- Map one topic to one item -->
        <param name="map.topic-avro-local.to">topic-avro-local</param>
        <param name="value.schema.file">user.avsc</param>
        <param name="value.consumer">AVRO</param>
        <param name="key.schema.file">user.avsc</param>
        <param name="key.consumer">AVRO</param>

        <!-- <param name="schema.registry.url">http://localhost:8081</param> -->

        <!-- Map one topic to multimple items -->
        <!--<param name="map.topic-avro-one-to-many.to">kafka-avro-${name=User.name,friend=User.friends}</param>-->
        <!--<param name="map.topic-avro-one-to-many.to">kafka-avro-item2</param> -->

        <!-- Map many topics to one item -->
        <!-- <param name="map.topic-avro-many-to-one-2.to">kafka-avro-many-topics</param> -->

        <!-- Map one topic to one item template -->
        <!-- <param name="map.topic-avro.to">kafka-user-${name=User.name,age=User.info.age}</param> -->
        
        <!-- Map one topic to many item templates -->
        <!--<param name="map.topic-avro.to">kafka-user-${name=User.name},kafka-user-${age=User.info.age}</param>-->
        
        <!--<param name="map.topic-avro-3.to">kafka-topic</param> -->

        <!--<param name="field.name">User.name</param> -->
        <!-- <param name="field.favorite_number">VALUE.User.favorite_number</param>
        <param name="field.age">VALUE.User.info.age</param>
        <param name="field.height">VALUE.User.info.height</param>
        <param name="field.zipcode1">VALUE.User.addresses[0].zipcode</param>
        <param name="field.zipcode2">VALUE.User.addresses[1].zipcode</param> -->
    </data_provider>

    <!-- <data_provider name="Suit">
        <adapter_class>com.lightstreamer.kafka_connector.adapter.KafkaConnectorAdapter</adapter_class>
        <param name="bootstrap-servers">broker:29092</param>
        <param name="group-id">kafka-adapter-suit</param>

        <param name="mapping_for_topic.topic-suit">suits</param>

        <param name="consumer">SymbolConsumer</param>
        <param name="item_suit">Suit</param>
    </data_provider> -->

    <!-- <data_provider name="Json">
        <adapter_class>com.lightstreamer.kafka_connector.adapter.KafkaConnectorAdapter</adapter_class>
        <param name="bootstrap-servers">broker:29092</param>
        <param name="group-id">kafka-adapter-json</param>

        <param name="topics">topic-json</param>
        <param name="mapped_item">kafka-user-${name=firtName}</param>

        <param name="consumer">JsonConsumer</param>
        <param name="field.firstname">${VALUE.firstName}</param>
        <param name="field.lastname">${VALUE.lastName}</param>
    </data_provider> -->

    <!-- <data_provider name="Raw">
        <adapter_class>com.lightstreamer.kafka_connector.adapter.KafkaConnectorAdapter</adapter_class>
        <param name="bootstrap-servers">broker:29092</param>
        <param name="group-id">kafka-adapter-json</param>

        <param name="map.topic-raw.to">topic-raw-${key=KEY}</param>

        <param name="consumer">RawConsumer</param>
        <param name="field.key">KEY</param>
        <param name="field.value">VALUE</param>
        <param name="field.ts">TIMESTAMP</param>
        <param name="field.partition">PARTITION</param>
    </data_provider> -->


</adapters_conf>
