<adapters_conf id="KafkaConnector">
    <metadata_provider>
        <adapter_class>com.lightstreamer.kafka_connector.adapters.pub.KafkaConnectorMetadataAdapter</adapter_class>
        <param name="logging.configuration.path">log4j.properties</param>
    </metadata_provider>

    <data_provider name="AirpotDemo">
        <adapter_class>com.lightstreamer.kafka_connector.adapters.KafkaConnectorDataAdapter</adapter_class>

        <!-- The Kafka cluster address -->
        <param name="bootstrap.servers">ec2-3-255-150-185.eu-west-1.compute.amazonaws.com:9092</param>

        <!-- TOPIC MAPPING SECTION -->

        <!-- Define a "sample" item-template, which is simply made of the "sample" item name to be used by the Lighstreamer Client subscription. -->
        <param name="item-template.flights">flights-#{key=KEY}</param>

        <!-- Map the topic "sample-topic" to the previous defined "sample" item template. -->
        <param name="map.Flights.to">item-template.flights</param>

		<param name="record.key.evaluator.type">STRING</param>
		<param name="record.value.evaluator.type">JSON</param>
		
		<param name="record.consme.from">EARLIEST</param>
        <!-- FIELDS MAPPING SECTION -->

        <!-- Extraction of the record key mapped to the field "key". -->
        <param name="field.key">#{KEY}</param>

        <!-- Extraction of the record value mapped to the field "value". -->
        <!-- Extraction of the record value mapped to the field "value". -->
        <param name="field.destination">#{VALUE.destination}</param>
		<param name="field.departure">#{VALUE.departure}</param>
		<param name="field.flightNo">#{VALUE.flightNo}</param>
		<param name="field.terminal">#{VALUE.terminal}</param>
		<param name="field.status">#{VALUE.status}</param>
		<param name="field.airline">#{VALUE.airline}</param>
		<param name="field.currentTime">#{VALUE.currentTime}</param>
		
        <!-- Extraction of the record timestamp to the field "ts". -->
        <param name="field.ts">#{TIMESTAMP}</param>

        <!-- Extraction of the record partition mapped to the field "partition". -->
        <param name="field.partition">#{PARTITION}</param>

        <!-- Extraction of the record offset mapped to the field "offset". -->
        <param name="field.offset">#{OFFSET}</param>
    </data_provider>
</adapters_conf>

