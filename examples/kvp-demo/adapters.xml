<?xml version="1.0"?>

<!-- Mandatory. Define the Kafka Connector Adapter Set and its unique ID. -->
<adapters_conf id="KafkaConnector">
    <metadata_provider>
        <adapter_class>com.lightstreamer.kafka.adapters.pub.KafkaConnectorMetadataAdapter</adapter_class>
        <param name="logging.configuration.path">log4j.properties</param>
    </metadata_provider>

    <data_provider name="prices">
        <adapter_class>com.lightstreamer.kafka.adapters.KafkaConnectorDataAdapter</adapter_class>

        <param name="bootstrap.servers">broker:29092</param>

        <param name="group.id">quick-start-group</param>

        <param name="record.key.evaluator.type">STRING</param>
        <param name="record.value.evaluator.type">KVP</param>

        <param name="item-template.quotes">quote-#{topic=TOPIC}</param>

        <param name="map.MPDF.SIT.DATA.QUOTE.SAMA.(\d+).to">item-template.quotes</param>
        <!--
        <param name="map.MPDF.SIT.DATA.QUOTE.SAMA.(\d+)_15m.to">quotes_15m</param>
        <param name="map.MPDF.SIT.DATA.QUOTE.SAMA.(\d+)_SABE.to">quotes_sabe</param>
        <param name="map.MPDF.SIT.DATA.QUOTE.SAMA.(\d+)_SABE_15m.to">quotes_sabe_15m</param>
        -->

        <param name="field.SYMBOL">#{VALUE.NAME}</param>
        <param name="field.QCHARTTOT">#{VALUE.QCHARTTOT}</param>
        <param name="field.TRow">#{VALUE.TRow}</param>
        <param name="field.TMSTMP">#{VALUE.TMSTMP}</param>
        <param name="field.QCHART">#{VALUE.QCHART}</param>
        <param name="field.VTOT">#{VALUE.VTOT}</param>
        <param name="field.QTOT">#{VALUE.QTOT}</param>
        <param name="field.QA">#{VALUE.QA}</param>
        <param name="field.Q">#{VALUE.Q}</param>
        <param name="field.PA">#{VALUE.PA}</param>
        <param name="field.PCHART">#{VALUE.PCHART}</param>
        <param name="field.NTRAD">#{VALUE.NTRAD}</param>
        <param name="field.PLIM_MIN">#{VALUE.PLIM_MIN}</param>
        <param name="field.PLIM_MAX">#{VALUE.PLIM_MAX}</param>

    </data_provider>

</adapters_conf>
